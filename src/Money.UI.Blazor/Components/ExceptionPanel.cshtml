@inject Neptuo.Exceptions.Handlers.ExceptionHandlerBuilder ExceptionHandlerBuilder

@if (Exception != null)
{
    <div class="alert alert-danger alert-dismissible" role="alert">
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>

        <strong>
            @Exception.GetType().FullName:
        </strong>
        <span>
            @Exception.Message
        </span>
    </div>
}

@functions {

    public Exception Exception { get; private set; }

    protected override async Task OnInitAsync()
    {
        ExceptionHandlerBuilder.Handler(exception =>
        {
            Exception = exception;
            StateHasChanged();
        });
    }

}
