@using Money.Layouts
@inherits LoginInfoBase

@if (IsAuthenticated || Loading.IsLoading)
{
    <form class="navbar-right" @onsubmit="@OnLogoutAsync">
        <ul class="nav navbar-nav navbar-right">
            <Loading Context="@Loading">
                <LoadingContent>
                    <li class="nav-item">
                        <span class="navbar-text">
                            Loading...
                        </span>
                    </li>
                </LoadingContent>
                <ChildContent>
                    @if (Profile != null)
                    {
                        <li class="nav-item">
                            <NavLink class="nav-link" href="@Navigator.UrlUserManage()">
                                <Icon Identifier="user" />
                                @Profile.UserName
                            </NavLink>
                        </li class="nav-item">
                        <li>
                            <button type="button" class="btn btn-link navbar-btn nav-link" @onclick="@OnLogoutAsync">Log out</button>
                        </li>
                    }
                </ChildContent>
            </Loading>
        </ul>
    </form>
}
