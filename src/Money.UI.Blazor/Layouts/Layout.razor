@using Neptuo.Exceptions.Handlers
@inherits LayoutComponentBase
@inject ExceptionHandlerBuilder ExceptionHandlerBuilder
@inject Navigator Navigator

<nav class="navbar fixed-top navbar-expand-lg navbar-dark">
    <div class="container">
        <MainMenu />
    </div>
</nav>
<div class="container body-content">
    @Body
</div>

<footer>
    <div class="container">
        <hr />
        <p>&copy; 2019 - Neptuo</p>
    </div>
</footer>

@code
{
    protected async override Task OnInitializedAsync()
    {
        await base.OnInitializedAsync();

        ExceptionHandlerBuilder.Handler<UnauthorizedAccessException>(e => Navigator.OpenLogin());
    }
}